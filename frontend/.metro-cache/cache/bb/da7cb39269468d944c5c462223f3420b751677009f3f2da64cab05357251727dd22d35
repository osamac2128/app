{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Login error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Registration error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user_data');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        isAuthenticated: !!token && !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":127,"map":[[13,2,40,0,"Object"],[13,8,40,0],[13,9,40,0,"defineProperty"],[13,23,40,0],[13,24,40,0,"exports"],[13,31,40,0],[14,4,40,0,"enumerable"],[14,14,40,0],[15,4,40,0,"get"],[15,7,40,0],[15,18,40,0,"get"],[15,19,40,0],[16,6,40,0],[16,13,40,0,"AuthProvider"],[16,25,40,0],[17,4,40,0],[18,2,40,0],[19,2,130,0,"Object"],[19,8,130,0],[19,9,130,0,"defineProperty"],[19,23,130,0],[19,24,130,0,"exports"],[19,31,130,0],[20,4,130,0,"enumerable"],[20,14,130,0],[21,4,130,0,"get"],[21,7,130,0],[21,18,130,0,"get"],[21,19,130,0],[22,6,130,0],[22,13,130,0,"useAuth"],[22,20,130,0],[23,4,130,0],[24,2,130,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,4,0],[30,6,4,0,"_expoConstants"],[30,20,4,0],[30,23,4,0,"require"],[30,30,4,0],[30,31,4,0,"_dependencyMap"],[30,45,4,0],[31,2,4,0],[31,6,4,0,"Constants"],[31,15,4,0],[31,18,4,0,"_interopDefault"],[31,33,4,0],[31,34,4,0,"_expoConstants"],[31,48,4,0],[32,2,4,39],[32,6,4,39,"_reactJsxDevRuntime"],[32,25,4,39],[32,28,4,39,"require"],[32,35,4,39],[32,36,4,39,"_dependencyMap"],[32,50,4,39],[33,2,6,0],[33,8,6,6,"API_URL"],[33,15,6,13],[33,18,6,16,"Constants"],[33,27,6,25],[33,28,6,25,"default"],[33,35,6,25],[33,36,6,26,"expoConfig"],[33,46,6,36],[33,48,6,38,"extra"],[33,53,6,43],[33,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[33,78,6,68],[33,82,6,72,"process"],[33,89,6,79],[33,90,6,80,"env"],[33,93,6,83],[33,94,6,84,"EXPO_PUBLIC_BACKEND_URL"],[33,117,6,107],[34,2,38,0],[34,8,38,6,"AuthContext"],[34,19,38,17],[34,35,38,20],[34,39,38,20,"createContext"],[34,45,38,33],[34,46,38,33,"createContext"],[34,59,38,33],[34,61,38,63,"undefined"],[34,70,38,72],[34,71,38,73],[35,2,40,7],[35,8,40,13,"AuthProvider"],[35,20,40,66],[35,23,40,69,"AuthProvider"],[35,24,40,70],[36,4,40,72,"children"],[37,2,40,81],[37,3,40,82],[37,8,40,87],[38,4,41,2],[38,10,41,8],[38,11,41,9,"user"],[38,15,41,13],[38,17,41,15,"setUser"],[38,24,41,22],[38,25,41,23],[38,28,41,26],[38,32,41,26,"useState"],[38,38,41,34],[38,39,41,34,"useState"],[38,47,41,34],[38,49,41,48],[38,53,41,52],[38,54,41,53],[39,4,42,2],[39,10,42,8],[39,11,42,9,"token"],[39,16,42,14],[39,18,42,16,"setToken"],[39,26,42,24],[39,27,42,25],[39,30,42,28],[39,34,42,28,"useState"],[39,40,42,36],[39,41,42,36,"useState"],[39,49,42,36],[39,51,42,52],[39,55,42,56],[39,56,42,57],[40,4,43,2],[40,10,43,8],[40,11,43,9,"loading"],[40,18,43,16],[40,20,43,18,"setLoading"],[40,30,43,28],[40,31,43,29],[40,34,43,32],[40,38,43,32,"useState"],[40,44,43,40],[40,45,43,40,"useState"],[40,53,43,40],[40,55,43,41],[40,59,43,45],[40,60,43,46],[41,4,45,2],[41,8,45,2,"useEffect"],[41,14,45,11],[41,15,45,11,"useEffect"],[41,24,45,11],[41,26,45,12],[41,32,45,18],[42,6,46,4,"loadStoredAuth"],[42,20,46,18],[42,21,46,19],[42,22,46,20],[43,4,47,2],[43,5,47,3],[43,7,47,5],[43,9,47,7],[43,10,47,8],[44,4,49,2],[44,10,49,8,"loadStoredAuth"],[44,24,49,22],[44,27,49,25],[44,33,49,25,"loadStoredAuth"],[44,34,49,25],[44,39,49,37],[45,6,50,4],[45,10,50,8],[46,8,51,6],[46,14,51,12,"storedToken"],[46,25,51,23],[46,28,51,26],[46,34,51,32,"AsyncStorage"],[46,46,51,44],[46,47,51,44,"default"],[46,54,51,44],[46,55,51,45,"getItem"],[46,62,51,52],[46,63,51,53],[46,75,51,65],[46,76,51,66],[47,8,52,6],[47,14,52,12,"storedUser"],[47,24,52,22],[47,27,52,25],[47,33,52,31,"AsyncStorage"],[47,45,52,43],[47,46,52,43,"default"],[47,53,52,43],[47,54,52,44,"getItem"],[47,61,52,51],[47,62,52,52],[47,73,52,63],[47,74,52,64],[48,8,54,6],[48,12,54,10,"storedToken"],[48,23,54,21],[48,27,54,25,"storedUser"],[48,37,54,35],[48,39,54,37],[49,10,55,8,"setToken"],[49,18,55,16],[49,19,55,17,"storedToken"],[49,30,55,28],[49,31,55,29],[50,10,56,8,"setUser"],[50,17,56,15],[50,18,56,16,"JSON"],[50,22,56,20],[50,23,56,21,"parse"],[50,28,56,26],[50,29,56,27,"storedUser"],[50,39,56,37],[50,40,56,38],[50,41,56,39],[51,8,57,6],[52,6,58,4],[52,7,58,5],[52,8,58,6],[52,15,58,13,"error"],[52,20,58,18],[52,22,58,20],[53,8,59,6,"console"],[53,15,59,13],[53,16,59,14,"error"],[53,21,59,19],[53,22,59,20],[53,43,59,41],[53,45,59,43,"error"],[53,50,59,48],[53,51,59,49],[54,6,60,4],[54,7,60,5],[54,16,60,14],[55,8,61,6,"setLoading"],[55,18,61,16],[55,19,61,17],[55,24,61,22],[55,25,61,23],[56,6,62,4],[57,4,63,2],[57,5,63,3],[58,4,65,2],[58,10,65,8,"login"],[58,15,65,13],[58,18,65,16],[58,24,65,16,"login"],[58,25,65,23,"email"],[58,30,65,36],[58,32,65,38,"password"],[58,40,65,54],[58,45,65,59],[59,6,66,4],[59,10,66,8],[60,8,67,6],[60,14,67,12,"response"],[60,22,67,20],[60,25,67,23],[60,31,67,29,"axios"],[60,36,67,34],[60,37,67,34,"default"],[60,44,67,34],[60,45,67,35,"post"],[60,49,67,39],[60,50,67,40],[60,53,67,43,"API_URL"],[60,60,67,50],[60,77,67,67],[60,79,67,69],[61,10,68,8,"email"],[61,15,68,13],[62,10,69,8,"password"],[63,8,70,6],[63,9,70,7],[63,10,70,8],[64,8,72,6],[64,14,72,12],[65,10,72,14,"access_token"],[65,22,72,26],[66,10,72,28,"user"],[66,14,72,32],[66,16,72,34,"userData"],[67,8,72,43],[67,9,72,44],[67,12,72,47,"response"],[67,20,72,55],[67,21,72,56,"data"],[67,25,72,60],[68,8,74,6],[68,14,74,12,"AsyncStorage"],[68,26,74,24],[68,27,74,24,"default"],[68,34,74,24],[68,35,74,25,"setItem"],[68,42,74,32],[68,43,74,33],[68,55,74,45],[68,57,74,47,"access_token"],[68,69,74,59],[68,70,74,60],[69,8,75,6],[69,14,75,12,"AsyncStorage"],[69,26,75,24],[69,27,75,24,"default"],[69,34,75,24],[69,35,75,25,"setItem"],[69,42,75,32],[69,43,75,33],[69,54,75,44],[69,56,75,46,"JSON"],[69,60,75,50],[69,61,75,51,"stringify"],[69,70,75,60],[69,71,75,61,"userData"],[69,79,75,69],[69,80,75,70],[69,81,75,71],[70,8,77,6,"setToken"],[70,16,77,14],[70,17,77,15,"access_token"],[70,29,77,27],[70,30,77,28],[71,8,78,6,"setUser"],[71,15,78,13],[71,16,78,14,"userData"],[71,24,78,22],[71,25,78,23],[72,6,79,4],[72,7,79,5],[72,8,79,6],[72,15,79,13,"error"],[72,20,79,23],[72,22,79,25],[73,8,80,6,"console"],[73,15,80,13],[73,16,80,14,"error"],[73,21,80,19],[73,22,80,20],[73,36,80,34],[73,38,80,36,"error"],[73,43,80,41],[73,44,80,42,"response"],[73,52,80,50],[73,54,80,52,"data"],[73,58,80,56],[73,62,80,60,"error"],[73,67,80,65],[73,68,80,66,"message"],[73,75,80,73],[73,76,80,74],[74,8,81,6],[74,14,81,12],[74,18,81,16,"Error"],[74,23,81,21],[74,24,81,22,"error"],[74,29,81,27],[74,30,81,28,"response"],[74,38,81,36],[74,40,81,38,"data"],[74,44,81,42],[74,46,81,44,"detail"],[74,52,81,50],[74,56,81,54],[74,70,81,68],[74,71,81,69],[75,6,82,4],[76,4,83,2],[76,5,83,3],[77,4,85,2],[77,10,85,8,"register"],[77,18,85,16],[77,21,85,19],[77,27,85,26,"data"],[77,31,85,44],[77,35,85,49],[78,6,86,4],[78,10,86,8],[79,8,87,6],[79,14,87,12,"response"],[79,22,87,20],[79,25,87,23],[79,31,87,29,"axios"],[79,36,87,34],[79,37,87,34,"default"],[79,44,87,34],[79,45,87,35,"post"],[79,49,87,39],[79,50,87,40],[79,53,87,43,"API_URL"],[79,60,87,50],[79,80,87,70],[79,82,87,72,"data"],[79,86,87,76],[79,87,87,77],[80,8,89,6],[80,14,89,12],[81,10,89,14,"access_token"],[81,22,89,26],[82,10,89,28,"user"],[82,14,89,32],[82,16,89,34,"userData"],[83,8,89,43],[83,9,89,44],[83,12,89,47,"response"],[83,20,89,55],[83,21,89,56,"data"],[83,25,89,60],[84,8,91,6],[84,14,91,12,"AsyncStorage"],[84,26,91,24],[84,27,91,24,"default"],[84,34,91,24],[84,35,91,25,"setItem"],[84,42,91,32],[84,43,91,33],[84,55,91,45],[84,57,91,47,"access_token"],[84,69,91,59],[84,70,91,60],[85,8,92,6],[85,14,92,12,"AsyncStorage"],[85,26,92,24],[85,27,92,24,"default"],[85,34,92,24],[85,35,92,25,"setItem"],[85,42,92,32],[85,43,92,33],[85,54,92,44],[85,56,92,46,"JSON"],[85,60,92,50],[85,61,92,51,"stringify"],[85,70,92,60],[85,71,92,61,"userData"],[85,79,92,69],[85,80,92,70],[85,81,92,71],[86,8,94,6,"setToken"],[86,16,94,14],[86,17,94,15,"access_token"],[86,29,94,27],[86,30,94,28],[87,8,95,6,"setUser"],[87,15,95,13],[87,16,95,14,"userData"],[87,24,95,22],[87,25,95,23],[88,6,96,4],[88,7,96,5],[88,8,96,6],[88,15,96,13,"error"],[88,20,96,23],[88,22,96,25],[89,8,97,6,"console"],[89,15,97,13],[89,16,97,14,"error"],[89,21,97,19],[89,22,97,20],[89,43,97,41],[89,45,97,43,"error"],[89,50,97,48],[89,51,97,49,"response"],[89,59,97,57],[89,61,97,59,"data"],[89,65,97,63],[89,69,97,67,"error"],[89,74,97,72],[89,75,97,73,"message"],[89,82,97,80],[89,83,97,81],[90,8,98,6],[90,14,98,12],[90,18,98,16,"Error"],[90,23,98,21],[90,24,98,22,"error"],[90,29,98,27],[90,30,98,28,"response"],[90,38,98,36],[90,40,98,38,"data"],[90,44,98,42],[90,46,98,44,"detail"],[90,52,98,50],[90,56,98,54],[90,77,98,75],[90,78,98,76],[91,6,99,4],[92,4,100,2],[92,5,100,3],[93,4,102,2],[93,10,102,8,"logout"],[93,16,102,14],[93,19,102,17],[93,25,102,17,"logout"],[93,26,102,17],[93,31,102,29],[94,6,103,4],[94,10,103,8],[95,8,104,6],[95,14,104,12,"AsyncStorage"],[95,26,104,24],[95,27,104,24,"default"],[95,34,104,24],[95,35,104,25,"removeItem"],[95,45,104,35],[95,46,104,36],[95,58,104,48],[95,59,104,49],[96,8,105,6],[96,14,105,12,"AsyncStorage"],[96,26,105,24],[96,27,105,24,"default"],[96,34,105,24],[96,35,105,25,"removeItem"],[96,45,105,35],[96,46,105,36],[96,57,105,47],[96,58,105,48],[97,8,106,6,"setToken"],[97,16,106,14],[97,17,106,15],[97,21,106,19],[97,22,106,20],[98,8,107,6,"setUser"],[98,15,107,13],[98,16,107,14],[98,20,107,18],[98,21,107,19],[99,6,108,4],[99,7,108,5],[99,8,108,6],[99,15,108,13,"error"],[99,20,108,18],[99,22,108,20],[100,8,109,6,"console"],[100,15,109,13],[100,16,109,14,"error"],[100,21,109,19],[100,22,109,20],[100,37,109,35],[100,39,109,37,"error"],[100,44,109,42],[100,45,109,43],[101,6,110,4],[102,4,111,2],[102,5,111,3],[103,4,113,2],[103,24,114,4],[103,28,114,4,"_reactJsxDevRuntime"],[103,47,114,4],[103,48,114,4,"jsxDEV"],[103,54,114,4],[103,56,114,5,"AuthContext"],[103,67,114,16],[103,68,114,17,"Provider"],[103,76,114,25],[104,6,115,6,"value"],[104,11,115,11],[104,13,115,13],[105,8,116,8,"user"],[105,12,116,12],[106,8,117,8,"token"],[106,13,117,13],[107,8,118,8,"loading"],[107,15,118,15],[108,8,119,8,"login"],[108,13,119,13],[109,8,120,8,"register"],[109,16,120,16],[110,8,121,8,"logout"],[110,14,121,14],[111,8,122,8,"isAuthenticated"],[111,23,122,23],[111,25,122,25],[111,26,122,26],[111,27,122,27,"token"],[111,32,122,32],[111,36,122,36],[111,37,122,37],[111,38,122,38,"user"],[112,6,123,6],[112,7,123,8],[113,6,123,8,"children"],[113,14,123,8],[113,16,125,7,"children"],[114,4,125,15],[115,6,125,15,"fileName"],[115,14,125,15],[115,16,125,15,"_jsxFileName"],[115,28,125,15],[116,6,125,15,"lineNumber"],[116,16,125,15],[117,6,125,15,"columnNumber"],[117,18,125,15],[118,4,125,15],[118,11,126,26],[118,12,126,27],[119,2,128,0],[119,3,128,1],[120,2,130,7],[120,8,130,13,"useAuth"],[120,15,130,20],[120,18,130,23,"useAuth"],[120,19,130,23],[120,24,130,29],[121,4,131,2],[121,10,131,8,"context"],[121,17,131,15],[121,20,131,18],[121,24,131,18,"useContext"],[121,30,131,28],[121,31,131,28,"useContext"],[121,41,131,28],[121,43,131,29,"AuthContext"],[121,54,131,40],[121,55,131,41],[122,4,132,2],[122,8,132,6,"context"],[122,15,132,13],[122,20,132,18,"undefined"],[122,29,132,27],[122,31,132,29],[123,6,133,4],[123,12,133,10],[123,16,133,14,"Error"],[123,21,133,19],[123,22,133,20],[123,67,133,65],[123,68,133,66],[124,4,134,2],[125,4,135,2],[125,11,135,9,"context"],[125,18,135,16],[126,2,136,0],[126,3,136,1],[127,0,136,2],[127,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECuC;YCK;GDE;yBEE;GFc;gBGE;GHkB;mBIE;GJe;iBKE;GLS;CDiB;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}