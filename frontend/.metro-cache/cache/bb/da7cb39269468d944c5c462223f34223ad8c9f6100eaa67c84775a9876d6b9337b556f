{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../api/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":61,"index":210}}],"key":"utPClfis1dUaKYKGIsVatI+t5kc=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _apiAuth = require(_dependencyMap[2], \"../api/auth\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n          // Optionally validate token or refresh user data here\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const {\n          access_token,\n          user: userData\n        } = await _apiAuth.authApi.login({\n          email,\n          password\n        });\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Login error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const {\n          access_token,\n          user: userData\n        } = await _apiAuth.authApi.register(data);\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Registration error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const updateProfile = async data => {\n      try {\n        if (!token) throw new Error('Not authenticated');\n        const updatedUser = await _apiAuth.authApi.updateProfile(data);\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(updatedUser));\n        setUser(updatedUser);\n      } catch (error) {\n        console.error('Update profile error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Update failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user_data');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        updateProfile,\n        logout,\n        isAuthenticated: !!token && !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":134,"map":[[13,2,18,0,"Object"],[13,8,18,0],[13,9,18,0,"defineProperty"],[13,23,18,0],[13,24,18,0,"exports"],[13,31,18,0],[14,4,18,0,"enumerable"],[14,14,18,0],[15,4,18,0,"get"],[15,7,18,0],[15,18,18,0,"get"],[15,19,18,0],[16,6,18,0],[16,13,18,0,"AuthProvider"],[16,25,18,0],[17,4,18,0],[18,2,18,0],[19,2,116,0,"Object"],[19,8,116,0],[19,9,116,0,"defineProperty"],[19,23,116,0],[19,24,116,0,"exports"],[19,31,116,0],[20,4,116,0,"enumerable"],[20,14,116,0],[21,4,116,0,"get"],[21,7,116,0],[21,18,116,0,"get"],[21,19,116,0],[22,6,116,0],[22,13,116,0,"useAuth"],[22,20,116,0],[23,4,116,0],[24,2,116,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_apiAuth"],[28,14,3,0],[28,17,3,0,"require"],[28,24,3,0],[28,25,3,0,"_dependencyMap"],[28,39,3,0],[29,2,3,61],[29,6,3,61,"_reactJsxDevRuntime"],[29,25,3,61],[29,28,3,61,"require"],[29,35,3,61],[29,36,3,61,"_dependencyMap"],[29,50,3,61],[30,2,16,0],[30,8,16,6,"AuthContext"],[30,19,16,17],[30,35,16,20],[30,39,16,20,"createContext"],[30,45,16,33],[30,46,16,33,"createContext"],[30,59,16,33],[30,61,16,63,"undefined"],[30,70,16,72],[30,71,16,73],[31,2,18,7],[31,8,18,13,"AuthProvider"],[31,20,18,66],[31,23,18,69,"AuthProvider"],[31,24,18,70],[32,4,18,72,"children"],[33,2,18,81],[33,3,18,82],[33,8,18,87],[34,4,19,2],[34,10,19,8],[34,11,19,9,"user"],[34,15,19,13],[34,17,19,15,"setUser"],[34,24,19,22],[34,25,19,23],[34,28,19,26],[34,32,19,26,"useState"],[34,38,19,34],[34,39,19,34,"useState"],[34,47,19,34],[34,49,19,48],[34,53,19,52],[34,54,19,53],[35,4,20,2],[35,10,20,8],[35,11,20,9,"token"],[35,16,20,14],[35,18,20,16,"setToken"],[35,26,20,24],[35,27,20,25],[35,30,20,28],[35,34,20,28,"useState"],[35,40,20,36],[35,41,20,36,"useState"],[35,49,20,36],[35,51,20,52],[35,55,20,56],[35,56,20,57],[36,4,21,2],[36,10,21,8],[36,11,21,9,"loading"],[36,18,21,16],[36,20,21,18,"setLoading"],[36,30,21,28],[36,31,21,29],[36,34,21,32],[36,38,21,32,"useState"],[36,44,21,40],[36,45,21,40,"useState"],[36,53,21,40],[36,55,21,41],[36,59,21,45],[36,60,21,46],[37,4,23,2],[37,8,23,2,"useEffect"],[37,14,23,11],[37,15,23,11,"useEffect"],[37,24,23,11],[37,26,23,12],[37,32,23,18],[38,6,24,4,"loadStoredAuth"],[38,20,24,18],[38,21,24,19],[38,22,24,20],[39,4,25,2],[39,5,25,3],[39,7,25,5],[39,9,25,7],[39,10,25,8],[40,4,27,2],[40,10,27,8,"loadStoredAuth"],[40,24,27,22],[40,27,27,25],[40,33,27,25,"loadStoredAuth"],[40,34,27,25],[40,39,27,37],[41,6,28,4],[41,10,28,8],[42,8,29,6],[42,14,29,12,"storedToken"],[42,25,29,23],[42,28,29,26],[42,34,29,32,"AsyncStorage"],[42,46,29,44],[42,47,29,44,"default"],[42,54,29,44],[42,55,29,45,"getItem"],[42,62,29,52],[42,63,29,53],[42,75,29,65],[42,76,29,66],[43,8,30,6],[43,14,30,12,"storedUser"],[43,24,30,22],[43,27,30,25],[43,33,30,31,"AsyncStorage"],[43,45,30,43],[43,46,30,43,"default"],[43,53,30,43],[43,54,30,44,"getItem"],[43,61,30,51],[43,62,30,52],[43,73,30,63],[43,74,30,64],[44,8,32,6],[44,12,32,10,"storedToken"],[44,23,32,21],[44,27,32,25,"storedUser"],[44,37,32,35],[44,39,32,37],[45,10,33,8,"setToken"],[45,18,33,16],[45,19,33,17,"storedToken"],[45,30,33,28],[45,31,33,29],[46,10,34,8,"setUser"],[46,17,34,15],[46,18,34,16,"JSON"],[46,22,34,20],[46,23,34,21,"parse"],[46,28,34,26],[46,29,34,27,"storedUser"],[46,39,34,37],[46,40,34,38],[46,41,34,39],[47,10,35,8],[48,8,36,6],[49,6,37,4],[49,7,37,5],[49,8,37,6],[49,15,37,13,"error"],[49,20,37,18],[49,22,37,20],[50,8,38,6,"console"],[50,15,38,13],[50,16,38,14,"error"],[50,21,38,19],[50,22,38,20],[50,43,38,41],[50,45,38,43,"error"],[50,50,38,48],[50,51,38,49],[51,6,39,4],[51,7,39,5],[51,16,39,14],[52,8,40,6,"setLoading"],[52,18,40,16],[52,19,40,17],[52,24,40,22],[52,25,40,23],[53,6,41,4],[54,4,42,2],[54,5,42,3],[55,4,44,2],[55,10,44,8,"login"],[55,15,44,13],[55,18,44,16],[55,24,44,16,"login"],[55,25,44,23,"email"],[55,30,44,36],[55,32,44,38,"password"],[55,40,44,54],[55,45,44,59],[56,6,45,4],[56,10,45,8],[57,8,46,6],[57,14,46,12],[58,10,46,14,"access_token"],[58,22,46,26],[59,10,46,28,"user"],[59,14,46,32],[59,16,46,34,"userData"],[60,8,46,43],[60,9,46,44],[60,12,46,47],[60,18,46,53,"authApi"],[60,26,46,60],[60,27,46,60,"authApi"],[60,34,46,60],[60,35,46,61,"login"],[60,40,46,66],[60,41,46,67],[61,10,46,69,"email"],[61,15,46,74],[62,10,46,76,"password"],[63,8,46,85],[63,9,46,86],[63,10,46,87],[64,8,48,6],[64,14,48,12,"AsyncStorage"],[64,26,48,24],[64,27,48,24,"default"],[64,34,48,24],[64,35,48,25,"setItem"],[64,42,48,32],[64,43,48,33],[64,55,48,45],[64,57,48,47,"access_token"],[64,69,48,59],[64,70,48,60],[65,8,49,6],[65,14,49,12,"AsyncStorage"],[65,26,49,24],[65,27,49,24,"default"],[65,34,49,24],[65,35,49,25,"setItem"],[65,42,49,32],[65,43,49,33],[65,54,49,44],[65,56,49,46,"JSON"],[65,60,49,50],[65,61,49,51,"stringify"],[65,70,49,60],[65,71,49,61,"userData"],[65,79,49,69],[65,80,49,70],[65,81,49,71],[66,8,51,6,"setToken"],[66,16,51,14],[66,17,51,15,"access_token"],[66,29,51,27],[66,30,51,28],[67,8,52,6,"setUser"],[67,15,52,13],[67,16,52,14,"userData"],[67,24,52,22],[67,25,52,23],[68,6,53,4],[68,7,53,5],[68,8,53,6],[68,15,53,13,"error"],[68,20,53,23],[68,22,53,25],[69,8,54,6,"console"],[69,15,54,13],[69,16,54,14,"error"],[69,21,54,19],[69,22,54,20],[69,36,54,34],[69,38,54,36,"error"],[69,43,54,41],[69,44,54,42,"response"],[69,52,54,50],[69,54,54,52,"data"],[69,58,54,56],[69,62,54,60,"error"],[69,67,54,65],[69,68,54,66,"message"],[69,75,54,73],[69,76,54,74],[70,8,55,6],[70,14,55,12],[70,18,55,16,"Error"],[70,23,55,21],[70,24,55,22,"error"],[70,29,55,27],[70,30,55,28,"response"],[70,38,55,36],[70,40,55,38,"data"],[70,44,55,42],[70,46,55,44,"detail"],[70,52,55,50],[70,56,55,54],[70,70,55,68],[70,71,55,69],[71,6,56,4],[72,4,57,2],[72,5,57,3],[73,4,59,2],[73,10,59,8,"register"],[73,18,59,16],[73,21,59,19],[73,27,59,26,"data"],[73,31,59,47],[73,35,59,52],[74,6,60,4],[74,10,60,8],[75,8,61,6],[75,14,61,12],[76,10,61,14,"access_token"],[76,22,61,26],[77,10,61,28,"user"],[77,14,61,32],[77,16,61,34,"userData"],[78,8,61,43],[78,9,61,44],[78,12,61,47],[78,18,61,53,"authApi"],[78,26,61,60],[78,27,61,60,"authApi"],[78,34,61,60],[78,35,61,61,"register"],[78,43,61,69],[78,44,61,70,"data"],[78,48,61,74],[78,49,61,75],[79,8,63,6],[79,14,63,12,"AsyncStorage"],[79,26,63,24],[79,27,63,24,"default"],[79,34,63,24],[79,35,63,25,"setItem"],[79,42,63,32],[79,43,63,33],[79,55,63,45],[79,57,63,47,"access_token"],[79,69,63,59],[79,70,63,60],[80,8,64,6],[80,14,64,12,"AsyncStorage"],[80,26,64,24],[80,27,64,24,"default"],[80,34,64,24],[80,35,64,25,"setItem"],[80,42,64,32],[80,43,64,33],[80,54,64,44],[80,56,64,46,"JSON"],[80,60,64,50],[80,61,64,51,"stringify"],[80,70,64,60],[80,71,64,61,"userData"],[80,79,64,69],[80,80,64,70],[80,81,64,71],[81,8,66,6,"setToken"],[81,16,66,14],[81,17,66,15,"access_token"],[81,29,66,27],[81,30,66,28],[82,8,67,6,"setUser"],[82,15,67,13],[82,16,67,14,"userData"],[82,24,67,22],[82,25,67,23],[83,6,68,4],[83,7,68,5],[83,8,68,6],[83,15,68,13,"error"],[83,20,68,23],[83,22,68,25],[84,8,69,6,"console"],[84,15,69,13],[84,16,69,14,"error"],[84,21,69,19],[84,22,69,20],[84,43,69,41],[84,45,69,43,"error"],[84,50,69,48],[84,51,69,49,"response"],[84,59,69,57],[84,61,69,59,"data"],[84,65,69,63],[84,69,69,67,"error"],[84,74,69,72],[84,75,69,73,"message"],[84,82,69,80],[84,83,69,81],[85,8,70,6],[85,14,70,12],[85,18,70,16,"Error"],[85,23,70,21],[85,24,70,22,"error"],[85,29,70,27],[85,30,70,28,"response"],[85,38,70,36],[85,40,70,38,"data"],[85,44,70,42],[85,46,70,44,"detail"],[85,52,70,50],[85,56,70,54],[85,77,70,75],[85,78,70,76],[86,6,71,4],[87,4,72,2],[87,5,72,3],[88,4,74,2],[88,10,74,8,"updateProfile"],[88,23,74,21],[88,26,74,24],[88,32,74,31,"data"],[88,36,74,50],[88,40,74,55],[89,6,75,4],[89,10,75,8],[90,8,76,6],[90,12,76,10],[90,13,76,11,"token"],[90,18,76,16],[90,20,76,18],[90,26,76,24],[90,30,76,28,"Error"],[90,35,76,33],[90,36,76,34],[90,55,76,53],[90,56,76,54],[91,8,78,6],[91,14,78,12,"updatedUser"],[91,25,78,23],[91,28,78,26],[91,34,78,32,"authApi"],[91,42,78,39],[91,43,78,39,"authApi"],[91,50,78,39],[91,51,78,40,"updateProfile"],[91,64,78,53],[91,65,78,54,"data"],[91,69,78,58],[91,70,78,59],[92,8,79,6],[92,14,79,12,"AsyncStorage"],[92,26,79,24],[92,27,79,24,"default"],[92,34,79,24],[92,35,79,25,"setItem"],[92,42,79,32],[92,43,79,33],[92,54,79,44],[92,56,79,46,"JSON"],[92,60,79,50],[92,61,79,51,"stringify"],[92,70,79,60],[92,71,79,61,"updatedUser"],[92,82,79,72],[92,83,79,73],[92,84,79,74],[93,8,80,6,"setUser"],[93,15,80,13],[93,16,80,14,"updatedUser"],[93,27,80,25],[93,28,80,26],[94,6,81,4],[94,7,81,5],[94,8,81,6],[94,15,81,13,"error"],[94,20,81,23],[94,22,81,25],[95,8,82,6,"console"],[95,15,82,13],[95,16,82,14,"error"],[95,21,82,19],[95,22,82,20],[95,45,82,43],[95,47,82,45,"error"],[95,52,82,50],[95,53,82,51,"response"],[95,61,82,59],[95,63,82,61,"data"],[95,67,82,65],[95,71,82,69,"error"],[95,76,82,74],[95,77,82,75,"message"],[95,84,82,82],[95,85,82,83],[96,8,83,6],[96,14,83,12],[96,18,83,16,"Error"],[96,23,83,21],[96,24,83,22,"error"],[96,29,83,27],[96,30,83,28,"response"],[96,38,83,36],[96,40,83,38,"data"],[96,44,83,42],[96,46,83,44,"detail"],[96,52,83,50],[96,56,83,54],[96,71,83,69],[96,72,83,70],[97,6,84,4],[98,4,85,2],[98,5,85,3],[99,4,87,2],[99,10,87,8,"logout"],[99,16,87,14],[99,19,87,17],[99,25,87,17,"logout"],[99,26,87,17],[99,31,87,29],[100,6,88,4],[100,10,88,8],[101,8,89,6],[101,14,89,12,"AsyncStorage"],[101,26,89,24],[101,27,89,24,"default"],[101,34,89,24],[101,35,89,25,"removeItem"],[101,45,89,35],[101,46,89,36],[101,58,89,48],[101,59,89,49],[102,8,90,6],[102,14,90,12,"AsyncStorage"],[102,26,90,24],[102,27,90,24,"default"],[102,34,90,24],[102,35,90,25,"removeItem"],[102,45,90,35],[102,46,90,36],[102,57,90,47],[102,58,90,48],[103,8,91,6,"setToken"],[103,16,91,14],[103,17,91,15],[103,21,91,19],[103,22,91,20],[104,8,92,6,"setUser"],[104,15,92,13],[104,16,92,14],[104,20,92,18],[104,21,92,19],[105,6,93,4],[105,7,93,5],[105,8,93,6],[105,15,93,13,"error"],[105,20,93,18],[105,22,93,20],[106,8,94,6,"console"],[106,15,94,13],[106,16,94,14,"error"],[106,21,94,19],[106,22,94,20],[106,37,94,35],[106,39,94,37,"error"],[106,44,94,42],[106,45,94,43],[107,6,95,4],[108,4,96,2],[108,5,96,3],[109,4,98,2],[109,24,99,4],[109,28,99,4,"_reactJsxDevRuntime"],[109,47,99,4],[109,48,99,4,"jsxDEV"],[109,54,99,4],[109,56,99,5,"AuthContext"],[109,67,99,16],[109,68,99,17,"Provider"],[109,76,99,25],[110,6,100,6,"value"],[110,11,100,11],[110,13,100,13],[111,8,101,8,"user"],[111,12,101,12],[112,8,102,8,"token"],[112,13,102,13],[113,8,103,8,"loading"],[113,15,103,15],[114,8,104,8,"login"],[114,13,104,13],[115,8,105,8,"register"],[115,16,105,16],[116,8,106,8,"updateProfile"],[116,21,106,21],[117,8,107,8,"logout"],[117,14,107,14],[118,8,108,8,"isAuthenticated"],[118,23,108,23],[118,25,108,25],[118,26,108,26],[118,27,108,27,"token"],[118,32,108,32],[118,36,108,36],[118,37,108,37],[118,38,108,38,"user"],[119,6,109,6],[119,7,109,8],[120,6,109,8,"children"],[120,14,109,8],[120,16,111,7,"children"],[121,4,111,15],[122,6,111,15,"fileName"],[122,14,111,15],[122,16,111,15,"_jsxFileName"],[122,28,111,15],[123,6,111,15,"lineNumber"],[123,16,111,15],[124,6,111,15,"columnNumber"],[124,18,111,15],[125,4,111,15],[125,11,112,26],[125,12,112,27],[126,2,114,0],[126,3,114,1],[127,2,116,7],[127,8,116,13,"useAuth"],[127,15,116,20],[127,18,116,23,"useAuth"],[127,19,116,23],[127,24,116,29],[128,4,117,2],[128,10,117,8,"context"],[128,17,117,15],[128,20,117,18],[128,24,117,18,"useContext"],[128,30,117,28],[128,31,117,28,"useContext"],[128,41,117,28],[128,43,117,29,"AuthContext"],[128,54,117,40],[128,55,117,41],[129,4,118,2],[129,8,118,6,"context"],[129,15,118,13],[129,20,118,18,"undefined"],[129,29,118,27],[129,31,118,29],[130,6,119,4],[130,12,119,10],[130,16,119,14,"Error"],[130,21,119,19],[130,22,119,20],[130,67,119,65],[130,68,119,66],[131,4,120,2],[132,4,121,2],[132,11,121,9,"context"],[132,18,121,16],[133,2,122,0],[133,3,122,1],[134,0,122,2],[134,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","updateProfile","logout","useAuth"],"mappings":"AAA;qECiB;YCK;GDE;yBEE;GFe;gBGE;GHa;mBIE;GJa;wBKE;GLW;iBME;GNS;CDkB;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}